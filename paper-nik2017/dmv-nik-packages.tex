% File input and fonts
\usepackage[utf8]{inputenc}
\usepackage{mathptm}                % Times New Roman (text and math)

% Let us check for draft/final conditions
\usepackage{ifdraft}

% Figures
\usepackage{graphicx}
\usepackage[margin=1cm,justification=centering]{caption}
\usepackage{subcaption} % sub-figures

\ifoptionfinal{}{
\usepackage{endfloat}   % Move figures out of text for now
}


% Listings
\usepackage{listings}
\lstset{basicstyle=\ttfamily\footnotesize,breaklines=false}


% Numbers and units of measurement
\usepackage[binary-units]{siunitx}

\newcommand{\gib}{\gibi\byte}
\newcommand{\mib}{\mebi\byte}
\newcommand{\kib}{\kibi\byte}


% Typographical tweaks
\usepackage[inline]{enumitem}       % Compact inline lists with enumerate*


% Bibliography
\usepackage[
  backend=bibtex,
  urldate=long, % use date like "Apr. 7, 2017" instead of American "04/07/2017"
  firstinits=true,    % use only initials of given names
]{biblatex}

\addbibresource{dmv-nik.bib}
% Bib names last-first
\DeclareNameAlias{sortname}{last-first}
\DeclareNameAlias{default}{last-first}
% Bib names small caps
\renewcommand{\mkbibnamelast}[1]{\textsc{#1}}


% TODO notes
\usepackage[obeyFinal]{todonotes}


%%% ↑↑↑ Hyperref unaware packages above this line ↑↑↑ %%%%

% The hyperref docs recommend declaring it after the other \usepackage
% declarations, because it has to redefine several commands to work properly,
% and other later redefinitions might interfere.
%
% However, other packages are aware of hyperref and ask to be declared AFTER it.

% Link URLs in the PDF, and link references within the PDF itself
\usepackage[
  hidelinks,    % Do not style links. I think this is classier.
  pdfusetitle,  % Use doc title metadata for PDF title metadata
  pdfdisplaydoctitle,           % Display document title instead of filename in title bar
  bookmarksnumbered,            % use section numbers in PDF index
  pdfpagemode={UseOutlines},    % Show bookmarks
  pdfstartview={FitV},          % Fit height of page to PDF viewer window
]{hyperref}


%%% ↓↓↓ Hyperref aware packages below this line ↓↓↓ %%%%


% Combined references (chapters 1, 2 and 3)
\usepackage{cleveref}

% Glossaries
\usepackage[toc]{glossaries}
\makeglossaries
% Glossary entries
\input{dmv-nik-glossary}
% Emphasize first use of glossary term
\defglsentryfmt[main]{\ifglsused{\glslabel}{\glsgenentryfmt}{\emph{\glsgenentryfmt}}}
% Disable glossary hyperlinks because we will not print a glossary in this paper
\glsdisablehyper
