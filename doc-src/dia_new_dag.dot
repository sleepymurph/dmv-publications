digraph {

    define(OPTIONAL, `style=dashed')
    define(NEW, `style=filled,fillcolor=grey')
    define(INGIT, `style=filled,fillcolor=grey50')

    {
        // In Git
        node[INGIT]
        blob
        tree
        commit
        ref
    }

    {
        // New
        node[NEW]
        chunkedblob[label="chunked blob\nindex"]
    }

    ref -> commit [label=" current commit"]
    commit -> tree [label=" directory state"]
    tree -> tree [label=" subdirectory"]
    tree -> { chunkedblob, blob }[label=" file"]

    commit -> commit [label=" parent commit"]
    chunkedblob -> blob [label=" chunk"]
    chunkedblob -> chunkedblob [label=" chunk"]

}
